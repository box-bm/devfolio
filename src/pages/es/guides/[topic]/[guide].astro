---
import GuidesLayout from "@layouts/Guides.astro";
import { getGuides } from "@utils/guides";
import ContactLinks from "@components/ContactLinks.astro";
import Divider from "@components/Divider.astro";
import { useTranslations } from "@i18n/utils";

const lang = "es";
const t = useTranslations(lang);

export async function getStaticPaths() {
  const guides = await getGuides("es");
  return guides.map((guide) => {
    return {
      props: {
        guide,
      },
      params: { guide: guide.data.guide, topic: guide.data.topic },
    };
  });
}

const { guide } = Astro.props;
const { Content } = await guide.render();
---

<GuidesLayout title={guide.data.title} topic={guide.data.topic}>
  <article class="guide-content">
    <Content />
  </article>
  <Divider />
  <section>
    <h4>{t("guides.getInTouch.title")}</h4>
    <p>{t("guides.getInTouch.description")}</p>
    <ContactLinks lang={lang} />
  </section>
</GuidesLayout>

<style is:global>
  h2 {
    margin-top: 24px !important;
  }

  h3 {
    margin-top: 20px !important;
  }

  pre.astro-code {
    background-color: #f5f5f5;
    padding: 16px;
    border-radius: 8px;
    overflow-x: auto;
    margin-bottom: 16px;
  }

  pre {
    line-height: 1.3;
  }

  article {
    max-width: 800px;
    margin: 0 auto;
    padding: 24px;
    font-size: 1rem;
  }

  blockquote {
    background-color: var(--neutral-light);
    border-left: 4px solid var(--neutral-medium);
    color: var(--text-secondary);
    margin: 0px;
    padding: 0 12px;
  }

  ol,
  ul {
    margin: 0 0px;
  }
  ol li::marker {
    font-weight: 600;
  }

  li > p {
    margin: 0;
  }
</style>
